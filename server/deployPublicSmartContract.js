const { web3 } = require("./pantheon_utils/web3");
const { deploySmartContract } = require("./pantheon_utils/web3Operations");
//binary to deploy the smart contract
const simpleStorageByteCode =
  "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610221806100606000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063209652551461005c578063552410771461008757806367e404ce146100b4575b600080fd5b34801561006857600080fd5b5061007161010b565b6040518082815260200191505060405180910390f35b34801561009357600080fd5b506100b260048036038101908080359060200190929190505050610115565b005b3480156100c057600080fd5b506100c96101cb565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000600254905090565b7fc9db20adedc6cf2b5d25252b101ab03e124902a73fcb12b753f3d1aaa2d8f9f53382604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a18060028190555033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050905600a165627a7a7230582075c62564b30e771aa918ad342181ef3ae43a467d1823dadc5da945f5cf62713a0029";
const david19Bytecode =
  "0x608060405234801561001057600080fd5b50610cc2806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063b75c7dc614610046578063b88fbd2d1461008c578063d2ae498d146100f2575b600080fd5b6100726004803603602081101561005c57600080fd5b81019080803590602001909291905050506101b2565b604051808215151515815260200191505060405180910390f35b6100d8600480360360408110156100a257600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610545565b604051808215151515815260200191505060405180910390f35b610198600480360361012081101561010957600080fd5b8101908080359060200190929190803590602001909291908035906020019092919080359060200190929190803560ff169060200190929190803560ff169060200190929190803579ffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190929190803560ff169060200190929190803560ff169060200190929190505050610770565b604051808215151515815260200191505060405180910390f35b60008060008084815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090506000801b81600001541415610283576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f63726564656e7469616c206861736820646f65736e277420657869737400000081525060200191505060405180910390fd5b80600401600a9054906101000a900460ff16610307576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f43726564656e7469616c20697320616c7265616479207265766f6b656400000081525060200191505060405180910390fd5b600081600401600a6101000a81548160ff0219169083151502179055508060008085815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015481600001556001820154816001015560028201548160020155600382015481600301556004820160009054906101000a900460ff168160040160006101000a81548160ff021916908360038111156103cd57fe5b02179055506004820160019054906101000a900460ff168160040160016101000a81548160ff021916908360ff1602179055506004820160029054906101000a900460d01b8160040160026101000a81548165ffffffffffff021916908360d01c02179055506004820160089054906101000a900460ff168160040160086101000a81548160ff0219169083600481111561046457fe5b02179055506004820160099054906101000a900460ff168160040160096101000a81548160ff0219169083600781111561049a57fe5b021790555060048201600a9054906101000a900460ff1681600401600a6101000a81548160ff021916908315150217905550905050827f80d4746828447d65eceb938c7f9d85fbeb232fe7819d5209ed452b3940f8904b3342604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a26001915050919050565b600061054f610bf4565b60008085815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060405180610140016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820160009054906101000a900460ff1660038111156105f057fe5b60038111156105fb57fe5b81526020016004820160019054906101000a900460ff1660ff1660ff1681526020016004820160029054906101000a900460d01b79ffffffffffffffffffffffffffffffffffffffffffffffffffff191679ffffffffffffffffffffffffffffffffffffffffffffffffffff191681526020016004820160089054906101000a900460ff16600481111561068b57fe5b600481111561069657fe5b81526020016004820160099054906101000a900460ff1660078111156106b857fe5b60078111156106c357fe5b815260200160048201600a9054906101000a900460ff16151515158152505090506000801b81600001511415610761576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f43726564656e7469616c206861736820646f65736e277420657869737400000081525060200191505060405180910390fd5b80610120015191505092915050565b6000806000808c815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090506000801b816000015414610840576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f43726564656e7469616c20494420616c7265616479206578697374730000000081525060200191505060405180910390fd5b8981600001819055508881600101819055506103e842028160020181905550878160030181905550868160040160006101000a81548160ff0219169083600381111561088857fe5b0217905550858160040160016101000a81548160ff021916908360ff160217905550848160040160026101000a81548165ffffffffffff021916908360d01c0217905550838160040160086101000a81548160ff021916908360048111156108ec57fe5b0217905550828160040160096101000a81548160ff0219169083600781111561091157fe5b0217905550600181600401600a6101000a81548160ff021916908315150217905550806000808d815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015481600001556001820154816001015560028201548160020155600382015481600301556004820160009054906101000a900460ff168160040160006101000a81548160ff021916908360038111156109dc57fe5b02179055506004820160019054906101000a900460ff168160040160016101000a81548160ff021916908360ff1602179055506004820160029054906101000a900460d01b8160040160026101000a81548165ffffffffffff021916908360d01c02179055506004820160089054906101000a900460ff168160040160086101000a81548160ff02191690836004811115610a7357fe5b02179055506004820160099054906101000a900460ff168160040160096101000a81548160ff02191690836007811115610aa957fe5b021790555060048201600a9054906101000a900460ff1681600401600a6101000a81548160ff0219169083151502179055509050508a7fb63f373d7241d415ff725faa8c7def04dee5b4bd089fb60925610470fbedbaa4338c8c85600201548c8b8b8b604051808973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001888152602001878152602001868152602001856003811115610b6057fe5b60ff1681526020018479ffffffffffffffffffffffffffffffffffffffffffffffffffff191679ffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001836004811115610bb457fe5b60ff168152602001826007811115610bc857fe5b60ff1681526020019850505050505050505060405180910390a260019150509998505050505050505050565b6040518061014001604052806000801916815260200160008152602001600081526020016000815260200160006003811115610c2c57fe5b8152602001600060ff168152602001600079ffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200160006004811115610c6c57fe5b815260200160006007811115610c7e57fe5b8152602001600015158152509056fea265627a7a7231582086fbc93e3262831256c1226d4ed3685aed5b0e6ccfa953f17182c0fea3dd70f064736f6c63430005110032";
const falconVerifierBytecode =
  "0x608060405234801561001057600080fd5b506106b2806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063386439c314610030575b600080fd5b61004a60048036038101906100459190610368565b610060565b604051610057919061042a565b60405180910390f35b6000806000601373ffffffffffffffffffffffffffffffffffffffff16868686604051602401610092939291906104c4565b6040516020818303038152906040527fde8f50a1000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff838183161783525050505060405161011c919061054c565b6000604051808303816000865af19150503d8060008114610159576040519150601f19603f3d011682016040523d82523d6000602084013e61015e565b606091505b5091509150818015610171575060208151145b6101b0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101a7906105c0565b60405180910390fd5b600060f81b81600183516101c49190610619565b815181106101d5576101d461064d565b5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614925050509392505050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6102758261022c565b810181811067ffffffffffffffff821117156102945761029361023d565b5b80604052505050565b60006102a761020e565b90506102b3828261026c565b919050565b600067ffffffffffffffff8211156102d3576102d261023d565b5b6102dc8261022c565b9050602081019050919050565b82818337600083830152505050565b600061030b610306846102b8565b61029d565b90508281526020810184848401111561032757610326610227565b5b6103328482856102e9565b509392505050565b600082601f83011261034f5761034e610222565b5b813561035f8482602086016102f8565b91505092915050565b60008060006060848603121561038157610380610218565b5b600084013567ffffffffffffffff81111561039f5761039e61021d565b5b6103ab8682870161033a565b935050602084013567ffffffffffffffff8111156103cc576103cb61021d565b5b6103d88682870161033a565b925050604084013567ffffffffffffffff8111156103f9576103f861021d565b5b6104058682870161033a565b9150509250925092565b60008115159050919050565b6104248161040f565b82525050565b600060208201905061043f600083018461041b565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561047f578082015181840152602081019050610464565b60008484015250505050565b600061049682610445565b6104a08185610450565b93506104b0818560208601610461565b6104b98161022c565b840191505092915050565b600060608201905081810360008301526104de818661048b565b905081810360208301526104f2818561048b565b90508181036040830152610506818461048b565b9050949350505050565b600081905092915050565b600061052682610445565b6105308185610510565b9350610540818560208601610461565b80840191505092915050565b6000610558828461051b565b915081905092915050565b600082825260208201905092915050565b7f496e76616c6964207369676e6174757265000000000000000000000000000000600082015250565b60006105aa601183610563565b91506105b582610574565b602082019050919050565b600060208201905081810360008301526105d98161059d565b9050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610624826105e0565b915061062f836105e0565b9250828203905081811115610647576106466105ea565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea264697066735822122096e3555d3cc8e662994118df11f4c4bee92b98b26e302005e3d39c12638f15d464736f6c63430008110033";
// set to 1 for faster validation in this course.
web3.transactionConfirmationBlocks = 1;

const SMART_CONTRACT_OPTION = process.env.SMART_CONTRACT_OPTION;

const addressFrom = "0xfe3b557e8fb62b89f4916b721be55ceb828dbd73";
const privKey = Buffer.from(
  "8f2a55949038a9610f50fb23b5883af3b4ecb3c3bb792cbcefbd1542c692be63",
  "hex"
);

let contractData;

const chooseSmartByteCode = () => {
  if (SMART_CONTRACT_OPTION == 0) {
    contractData = simpleStorageByteCode;
  } else if (SMART_CONTRACT_OPTION == 1) {
    contractData = david19Bytecode;
  } else if (SMART_CONTRACT_OPTION == 2) {
    contractData = falconVerifierBytecode;
  }
};

chooseSmartByteCode();

const deploy = async () => {
  console.log(
    "#######################Deploying smart contract#######################"
  );
  return await deploySmartContract(contractData, addressFrom, privKey);
};

module.exports = {
  deploy,
};
